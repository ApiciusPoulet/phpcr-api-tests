*******************
Jackalope API tests
*******************
http://liip.to/jackalope

ebi at liip.ch
david at liip.ch
chregu at liip.ch

*****
Usage
*****

The jackalope-api-tests is a suite to test compliance for implementations of
the java content repository specification.
http://github.com/k-fish/PHPCR

You need to provide a couple of files in order to let the tests detect your
implementation:

* Copy phpunit.xml.sample to phpunit.xml and adapt if necessary.
* Write your own bootstrap file. Have a look at lib/bootstrap.php.sample

Once you are done, run phpunit inside of the root directory. If you use a
standard php installation, this is usually along the lines of
$ phpunit tests/level1/ReadTest.php


*****
Setup
*****

Setting up submodules
*********************

After the first clone, don't forget to

git submodule init
git submodule update

Dependencies
************

PHPUnit in PATH
PHPUnit in include_path

Setting up Jackrabbit
*********************
- Create tests workspace which is different from your default workspace.
See http://jackrabbit.apache.org/jackrabbit-configuration.html#JackrabbitConfiguration-Workspaceconfiguration
Or:
- Go to the directory you started jackrabbit-standalone (eg. /opt/svn/jackrabbit/jackrabbit-standalone/target)
- cd jackrabbit
- cd workspaces
- cp -r default tests
- cd tests
- change <Workspace name="default"> to <Workspace name="tests">
- start jackrabbit again



**************
Implementation
**************

This code defines a set of unit tests against the PHPCR interfaces.
The tests are oriented at the javadoc of the JSR 283 interfaces.

tests/level1 contains tets for the base read functionality.

Packages at least partially for level1:
javax.jcr               => ReadTest, AccessTest, ExportTest, NamespaceTest
javax.jcr.query         must support javax.jcr.query.JCR-JQOM and javax.jcr.query.JCR-SQL2 => SearchTest
javax.jcr.query.qom     Specify query object model => QueryObjectModelTest
javax.jcr.nodetype      => NodeTypesTest
javax.jcr.util

Packages used for additional features
javax.jcr.lock          Repository.OPTION_LOCKING_SUPPORTED => LockTest
javax.jcr.observation   Repository.OPTION_OBSERVATION_SUPPORTED or Repository.OPTION_JOURNALED_OBSERVATION_SUPPORTED
javax.jcr.retention     Repository.OPTION_RETENTION_SUPPORTED
javax.jcr.security      Repository.OPTION_ACCESS_CONTROL_SUPPORTED => AccessControlTest
javax.jcr.version       Repository.OPTION_SIMPLE_VERSIONING_SUPPORTED and Repository.OPTION_VERSIONING_SUPPORTED